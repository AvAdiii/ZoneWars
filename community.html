<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouMatter - Community</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'calm-blue': '#3B82F6',
                        'vibrant-green': '#10B981',
                        'encouraging-orange': '#F59E0B'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Mock data for demonstration
        const mockLeaderboardData = {
            global: [
                { id: 1, rank: 1, name: "Alex Chen", avatar: "🏆", totalArea: 15.7, level: 12, points: 4250 },
                { id: 2, rank: 2, name: "Sarah Johnson", avatar: "🌟", totalArea: 14.2, level: 11, points: 3980 },
                { id: 3, rank: 3, name: "Mike Rodriguez", avatar: "⚡", totalArea: 13.8, level: 10, points: 3750 },
                { id: 4, rank: 4, name: "Emma Wilson", avatar: "🎯", totalArea: 12.9, level: 10, points: 3500 },
                { id: 5, rank: 5, name: "You", avatar: "👤", totalArea: 8.5, level: 5, points: 1250, isCurrentUser: true },
                { id: 6, rank: 6, name: "David Kim", avatar: "🚀", totalArea: 7.2, level: 6, points: 2100 },
                { id: 7, rank: 7, name: "Lisa Brown", avatar: "💎", totalArea: 6.8, level: 5, points: 1850 },
                { id: 8, rank: 8, name: "Tom Garcia", avatar: "🔥", totalArea: 5.9, level: 4, points: 1600 }
            ],
            local: [
                { id: 1, rank: 1, name: "You", avatar: "👤", totalArea: 8.5, level: 5, points: 1250, isCurrentUser: true },
                { id: 2, rank: 2, name: "Local Player 1", avatar: "🌆", totalArea: 6.2, level: 4, points: 1100 },
                { id: 3, rank: 3, name: "Local Player 2", avatar: "🏙️", totalArea: 5.8, level: 4, points: 1050 },
                { id: 4, rank: 4, name: "Local Player 3", avatar: "🌃", totalArea: 4.9, level: 3, points: 900 }
            ],
            friends: [
                { id: 1, rank: 1, name: "Sarah Johnson", avatar: "🌟", totalArea: 14.2, level: 11, points: 3980, isFriend: true },
                { id: 2, rank: 2, name: "You", avatar: "👤", totalArea: 8.5, level: 5, points: 1250, isCurrentUser: true },
                { id: 3, rank: 3, name: "Mike Rodriguez", avatar: "⚡", totalArea: 7.2, level: 6, points: 2100, isFriend: true },
                { id: 4, rank: 4, name: "Emma Wilson", avatar: "🎯", totalArea: 5.9, level: 4, points: 1600, isFriend: true }
            ]
        };

        const mockChallenges = [
            {
                id: 1,
                title: "Team Valor vs. Team Mystic",
                description: "Capture the most territory this weekend!",
                type: "competitive",
                timeLeft: "2 days 14 hours",
                participants: 2847,
                progress: 65,
                reward: "Special Badge + 1000 Points",
                teams: [
                    { name: "Team Valor", color: "#FF6B6B", progress: 65 },
                    { name: "Team Mystic", color: "#4ECDC4", progress: 35 }
                ]
            },
            {
                id: 2,
                title: "Million Steps March",
                description: "Community goal: Walk 1,000,000 steps together",
                type: "collaborative",
                timeLeft: "5 days 8 hours",
                participants: 1253,
                progress: 78,
                currentSteps: 783420,
                targetSteps: 1000000,
                reward: "Wellness Pack for All"
            },
            {
                id: 3,
                title: "Financial Fitness Challenge",
                description: "Complete financial literacy quizzes and track savings goals",
                type: "educational",
                timeLeft: "7 days",
                participants: 892,
                progress: 45,
                reward: "Premium Financial Tools"
            }
        ];

        const mockUserProfiles = [
            {
                id: 1,
                name: "Sarah Johnson",
                avatar: "🌟",
                level: 11,
                totalPoints: 3980,
                totalArea: 14.2,
                joinedDate: "2024-08-15",
                achievements: ["Territory Master", "Community Leader", "Wellness Warrior"],
                largestTerritory: { area: 2.3, location: "Central Park Area" },
                isFriend: true
            },
            {
                id: 2,
                name: "Mike Rodriguez",
                avatar: "⚡",
                level: 6,
                totalPoints: 2100,
                totalArea: 7.2,
                joinedDate: "2024-09-01",
                achievements: ["Speed Walker", "Territory Hunter"],
                largestTerritory: { area: 1.8, location: "Downtown District" },
                isFriend: false
            }
        ];

        // Header Component
        const Header = ({ activeTab, setActiveTab }) => (
            <div className="bg-white shadow-sm px-6 py-4 sticky top-0 z-10">
                <div className="flex justify-between items-center mb-4">
                    <h1 className="text-2xl font-bold text-calm-blue">Community</h1>
                    <div className="flex items-center space-x-2">
                        <span className="text-encouraging-orange font-semibold">1,250</span>
                        <span className="text-sm text-gray-600">Points</span>
                    </div>
                </div>
                
                <div className="flex space-x-1 bg-gray-100 rounded-lg p-1">
                    {[
                        { id: 'leaderboards', label: 'Leaderboards', icon: '🏆' },
                        { id: 'challenges', label: 'Challenges', icon: '⚔️' },
                        { id: 'profiles', label: 'Profiles', icon: '👥' }
                    ].map(tab => (
                        <button
                            key={tab.id}
                            onClick={() => setActiveTab(tab.id)}
                            className={`flex-1 flex items-center justify-center space-x-2 py-2 px-4 rounded-md transition-colors ${
                                activeTab === tab.id 
                                    ? 'bg-white text-calm-blue shadow-sm' 
                                    : 'text-gray-600 hover:text-gray-800'
                            }`}
                        >
                            <span>{tab.icon}</span>
                            <span className="font-medium">{tab.label}</span>
                        </button>
                    ))}
                </div>
            </div>
        );

        // Leaderboard Tab Component
        const LeaderboardTab = ({ data }) => {
            const [activeBoard, setActiveBoard] = useState('global');
            
            return (
                <div className="space-y-6">
                    <div className="flex space-x-1 bg-gray-100 rounded-lg p-1">
                        {[
                            { id: 'global', label: 'Global', icon: '🌍' },
                            { id: 'local', label: 'Local', icon: '📍' },
                            { id: 'friends', label: 'Friends', icon: '👥' }
                        ].map(board => (
                            <button
                                key={board.id}
                                onClick={() => setActiveBoard(board.id)}
                                className={`flex-1 flex items-center justify-center space-x-2 py-2 px-4 rounded-md transition-colors ${
                                    activeBoard === board.id 
                                        ? 'bg-white text-calm-blue shadow-sm' 
                                        : 'text-gray-600 hover:text-gray-800'
                                }`}
                            >
                                <span>{board.icon}</span>
                                <span className="font-medium">{board.label}</span>
                            </button>
                        ))}
                    </div>

                    <div className="bg-white rounded-xl shadow-sm">
                        <div className="p-4 border-b border-gray-100">
                            <h3 className="font-bold text-lg text-gray-900">
                                {activeBoard === 'global' ? 'Global Rankings' : 
                                 activeBoard === 'local' ? 'Local Rankings (Your City)' : 
                                 'Friends Rankings'}
                            </h3>
                            <p className="text-sm text-gray-600">Ranked by total territory captured</p>
                        </div>
                        
                        <div className="divide-y divide-gray-100">
                            {data[activeBoard].map((player) => (
                                <div 
                                    key={player.id}
                                    className={`p-4 flex items-center justify-between ${
                                        player.isCurrentUser ? 'bg-blue-50 border-l-4 border-calm-blue' : ''
                                    }`}
                                >
                                    <div className="flex items-center space-x-4">
                                        <div className={`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${
                                            player.rank <= 3 ? 'bg-gradient-to-r from-yellow-400 to-yellow-600 text-white' :
                                            player.isCurrentUser ? 'bg-calm-blue text-white' :
                                            'bg-gray-200 text-gray-700'
                                        }`}>
                                            {player.rank}
                                        </div>
                                        
                                        <div className="text-2xl">{player.avatar}</div>
                                        
                                        <div>
                                            <div className={`font-semibold ${player.isCurrentUser ? 'text-calm-blue' : 'text-gray-900'}`}>
                                                {player.name}
                                            </div>
                                            <div className="text-sm text-gray-500">Level {player.level}</div>
                                        </div>
                                    </div>
                                    
                                    <div className="text-right">
                                        <div className="font-bold text-vibrant-green">{player.totalArea} km²</div>
                                        <div className="text-sm text-gray-500">{player.points.toLocaleString()} pts</div>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // Challenge Card Component
        const ChallengeCard = ({ challenge }) => (
            <div className="bg-white rounded-xl shadow-sm p-6 space-y-4">
                <div className="flex justify-between items-start">
                    <div className="flex-1">
                        <h3 className="font-bold text-lg text-gray-900 mb-2">{challenge.title}</h3>
                        <p className="text-gray-600 mb-3">{challenge.description}</p>
                        
                        <div className="flex items-center space-x-4 text-sm text-gray-500">
                            <span>⏰ {challenge.timeLeft}</span>
                            <span>👥 {challenge.participants.toLocaleString()} participants</span>
                        </div>
                    </div>
                    
                    <span className={`px-3 py-1 rounded-full text-xs font-medium ${
                        challenge.type === 'competitive' ? 'bg-red-100 text-red-800' :
                        challenge.type === 'collaborative' ? 'bg-green-100 text-green-800' :
                        'bg-blue-100 text-blue-800'
                    }`}>
                        {challenge.type}
                    </span>
                </div>

                {challenge.teams ? (
                    <div className="space-y-3">
                        <h4 className="font-medium text-gray-900">Team Progress</h4>
                        {challenge.teams.map((team, index) => (
                            <div key={index} className="space-y-2">
                                <div className="flex justify-between text-sm">
                                    <span style={{ color: team.color }} className="font-medium">{team.name}</span>
                                    <span className="text-gray-600">{team.progress}%</span>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-2">
                                    <div 
                                        className="h-2 rounded-full transition-all duration-300"
                                        style={{ width: `${team.progress}%`, backgroundColor: team.color }}
                                    ></div>
                                </div>
                            </div>
                        ))}
                    </div>
                ) : challenge.currentSteps ? (
                    <div className="space-y-2">
                        <div className="flex justify-between text-sm">
                            <span className="text-gray-600">Community Progress</span>
                            <span className="font-medium">{challenge.currentSteps.toLocaleString()} / {challenge.targetSteps.toLocaleString()} steps</span>
                        </div>
                        <div className="w-full bg-gray-200 rounded-full h-3">
                            <div 
                                className="bg-vibrant-green h-3 rounded-full transition-all duration-300"
                                style={{ width: `${challenge.progress}%` }}
                            ></div>
                        </div>
                    </div>
                ) : (
                    <div className="space-y-2">
                        <div className="flex justify-between text-sm">
                            <span className="text-gray-600">Progress</span>
                            <span className="font-medium">{challenge.progress}%</span>
                        </div>
                        <div className="w-full bg-gray-200 rounded-full h-2">
                            <div 
                                className="bg-encouraging-orange h-2 rounded-full transition-all duration-300"
                                style={{ width: `${challenge.progress}%` }}
                            ></div>
                        </div>
                    </div>
                )}

                <div className="flex justify-between items-center pt-4 border-t border-gray-100">
                    <div className="text-sm">
                        <span className="text-gray-600">Reward: </span>
                        <span className="font-medium text-encouraging-orange">{challenge.reward}</span>
                    </div>
                    <button className="bg-calm-blue hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                        Join Challenge
                    </button>
                </div>
            </div>
        );

        // Challenges Tab Component
        const ChallengesTab = ({ challenges }) => (
            <div className="space-y-6">
                <div className="bg-gradient-to-r from-calm-blue to-vibrant-green rounded-xl p-6 text-white">
                    <h3 className="font-bold text-xl mb-2">Active Community Challenges</h3>
                    <p className="text-blue-100">Join forces with other players to achieve collective goals and compete in exciting challenges!</p>
                </div>

                <div className="space-y-4">
                    {challenges.map(challenge => (
                        <ChallengeCard key={challenge.id} challenge={challenge} />
                    ))}
                </div>
            </div>
        );

        // User Profile Card Component
        const UserProfileCard = ({ user }) => (
            <div className="bg-white rounded-xl shadow-sm p-6">
                <div className="flex items-start justify-between mb-4">
                    <div className="flex items-center space-x-4">
                        <div className="text-4xl">{user.avatar}</div>
                        <div>
                            <h3 className="font-bold text-xl text-gray-900">{user.name}</h3>
                            <div className="flex items-center space-x-4 text-sm text-gray-600">
                                <span>Level {user.level}</span>
                                <span>Joined {new Date(user.joinedDate).toLocaleDateString()}</span>
                            </div>
                        </div>
                    </div>
                    
                    <button className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                        user.isFriend 
                            ? 'bg-green-100 text-green-800 hover:bg-green-200' 
                            : 'bg-calm-blue text-white hover:bg-blue-700'
                    }`}>
                        {user.isFriend ? '✓ Friends' : '+ Add Friend'}
                    </button>
                </div>

                <div className="grid grid-cols-3 gap-4 mb-4">
                    <div className="text-center p-3 bg-gray-50 rounded-lg">
                        <div className="font-bold text-xl text-encouraging-orange">{user.totalPoints.toLocaleString()}</div>
                        <div className="text-sm text-gray-600">Wellness Points</div>
                    </div>
                    <div className="text-center p-3 bg-gray-50 rounded-lg">
                        <div className="font-bold text-xl text-vibrant-green">{user.totalArea} km²</div>
                        <div className="text-sm text-gray-600">Total Territory</div>
                    </div>
                    <div className="text-center p-3 bg-gray-50 rounded-lg">
                        <div className="font-bold text-xl text-calm-blue">{user.achievements.length}</div>
                        <div className="text-sm text-gray-600">Achievements</div>
                    </div>
                </div>

                <div className="space-y-3">
                    <div>
                        <h4 className="font-medium text-gray-900 mb-2">Achievements</h4>
                        <div className="flex flex-wrap gap-2">
                            {user.achievements.map((achievement, index) => (
                                <span key={index} className="bg-encouraging-orange/10 text-encouraging-orange px-3 py-1 rounded-full text-sm font-medium">
                                    🏆 {achievement}
                                </span>
                            ))}
                        </div>
                    </div>

                    <div>
                        <h4 className="font-medium text-gray-900 mb-2">Largest Territory</h4>
                        <div className="bg-gray-50 rounded-lg p-3">
                            <div className="flex justify-between items-center">
                                <span className="text-gray-600">{user.largestTerritory.location}</span>
                                <span className="font-bold text-vibrant-green">{user.largestTerritory.area} km²</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        );

        // Profiles Tab Component
        const ProfilesTab = ({ profiles }) => (
            <div className="space-y-6">
                <div className="bg-white rounded-xl shadow-sm p-6">
                    <h3 className="font-bold text-lg text-gray-900 mb-4">Discover Players</h3>
                    <div className="flex items-center space-x-4">
                        <input 
                            type="text" 
                            placeholder="Search players..." 
                            className="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-calm-blue focus:border-transparent"
                        />
                        <button className="bg-calm-blue hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors">
                            Search
                        </button>
                    </div>
                </div>

                <div className="space-y-4">
                    {profiles.map(user => (
                        <UserProfileCard key={user.id} user={user} />
                    ))}
                </div>
            </div>
        );

        // Main Community Component
        const Community = () => {
            const [activeTab, setActiveTab] = useState('leaderboards');

            const renderContent = () => {
                switch (activeTab) {
                    case 'leaderboards':
                        return <LeaderboardTab data={mockLeaderboardData} />;
                    case 'challenges':
                        return <ChallengesTab challenges={mockChallenges} />;
                    case 'profiles':
                        return <ProfilesTab profiles={mockUserProfiles} />;
                    default:
                        return <LeaderboardTab data={mockLeaderboardData} />;
                }
            };

            return (
                <div className="min-h-screen bg-gray-50">
                    <Header activeTab={activeTab} setActiveTab={setActiveTab} />
                    <div className="max-w-4xl mx-auto px-6 py-6">
                        {renderContent()}
                    </div>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(<Community />, document.getElementById('root'));
    </script>
</body>
</html>